<div class="content-in">
    <app-page-header pageName="Keys"></app-page-header>
    <div>
        

        <div class="header">
            <button class="adding-btn" (click)="onChangeNewKey(true)">
                <span class="plus">
                    <img src="/assets/img/icons/plus.svg">
                </span>
                Add new key
            </button>

            <div class="checkboxes">
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="renewal">
                    <label for="renewal" class="pointer">Renewal</label>
                </div>
                <div class="checkbox-1-2">
                    <input type="checkbox" name="type" id="lifetime">
                    <label for="lifetime" class="pointer">Lifetime</label>
                </div>
            </div>

            <div class="search">
                <input type="text" placeholder="Search" name="search" id="search" class="search-input" autocomplete="off">
                <img src="/assets/img/icons/search.svg">
            </div>
        </div>

        <span class="hr grey"></span>


        <div class="keys">

            <table>
                <thead>
                    <tr>
                        <td>Nickname</td>
                        <td>Key</td>
                        <td>Type</td>
                        <td>Purshase</td>
                        <td>Renewal</td>
                        <td>Used</td>
                        <td>Edit</td>
                    </tr>
                </thead>
                <tbody>
                    <tr [formGroup]="formEditLicense" *ngFor="let license of licenses">

                        <td *ngIf="editingLicense._id != license._id"> {{ license.user }} </td>
                        <td *ngIf="editingLicense._id == license._id"> <input type="text" formControlName="user"> </td>

                        <td> {{ license.key }} </td>
                        
                        <td *ngIf="editingLicense._id != license._id"> {{ license.status }} </td>
                        <td *ngIf="editingLicense._id == license._id"> <input type="text" formControlName="status"> </td>

                        <td> {{ license.createdAt }} </td>

                        <td *ngIf="editingLicense._id != license._id"> {{ license.expresIn }} </td>
                        <td *ngIf="editingLicense._id == license._id"> <input type="text" formControlName="expresIn"> </td>

                        <td *ngIf="editingLicense._id != license._id"> {{ license.quantity }} </td>
                        <td *ngIf="editingLicense._id == license._id"> <input type="text" formControlName="quantity"> </td>

                        <td class="action" *ngIf="editingLicense._id != license._id">
                            <img src="/assets/img/icons/edit.svg" alt="edit" class="pointer" (click)="editLicense(license._id)">
                            <img src="/assets/img/icons/delete.svg" alt="delete" class="pointer" (click)="deleteLicense(license._id)">
                        </td>

                        <td class="action" *ngIf="editingLicense._id == license._id">
                            <img src="/assets/img/icons/confirm.svg" alt="edit" class="pointer" (click)="onEditLicense()">
                            <img src="/assets/img/icons/cancel.svg" alt="delete" class="pointer" (click)="onCancelLicense()">
                        </td>
                    </tr>
                    
                </tbody>
            </table>

        </div>
        <app-new-key *ngIf="newKey" (onClose)="onChangeNewKey($event)"></app-new-key>


    </div>
</div>